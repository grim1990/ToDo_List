@page
@model IndexModel
@{
	ViewData["Title"] = "Home page";
}

<div class="index-page">
	<div class="categories">
		@foreach (var item in Model.Categories)
		{
			<div data-href="/?id=@Html.DisplayFor(modelItem => item.Id)" onclick="changeCategory(this)" class="category">
				<div class="category__container">
					<h5 class="category__title">
						@Html.DisplayFor(modelItem => item.Name)
					</h5>
					<p class="category__description">
						@Html.DisplayFor(modelItem => item.Description)
					</p>
				</div>
				<div class="dropdown">
					<p class="dropdown-button">...</p>
					<ul class="dropdown-content">
						<li><a asp-page="CategoryPage/Edit" asp-route-id="@item.Id">Edytuj</a></li>
						<li><a asp-page="CategoryPage/Delete" asp-route-id="@item.Id">Usuń</a></li>
					</ul>
				</div>
			</div>
		}
		<a href="/CategoryPage/Create" class="cattegory__add">+</a>
	</div>
	<div class="todos">
		<div class="todos__container">
		<h2 class="todos__category"> @Model.Category.Name </h2>
			@foreach (var item in Model.Todos)
			{
				<div class="todo">
					@if (item.IsCompleted) {
						<input type="checkbox" data-todo-id="@item.Id" onclick="updateTodo(this)" class="checkbox-round" checked/>
					} else {
						<input type="checkbox" data-todo-id="@item.Id" onclick="updateTodo(this)" class="checkbox-round"/>
					}
					<div class="todo__container">
						<h6 class="todo__text">@Html.DisplayFor(modelItem => item.Name)</h6>
						<div class="todo__info">
							<p class="todo__importane"> importance: @Html.DisplayFor(modelItem => item.Priority) </p>
						</div>
					</div>
					<div class="dropdown">
						<p class="dropdown-button">...</p>
						<ul class="dropdown-content">
							<li><a asp-page="ToDoPage/Edit" asp-route-id="@item.Id">Edytuj</a></li>
							<li><a asp-page="ToDoPage/Delete" asp-route-id="@item.Id">Usuń</a></li>
						</ul>
					</div>
				</div>
			}
		</div>
		<a href="/ToDoPage/Create" class="todo__add">+</a>
	</div>
</div>
